import{u as N,r as u,j as e,H as y,m as i}from"./index-CesDyvRg.js";import{u as b}from"./testStore-B6qyTNA8.js";import{c as l,B as n}from"./createLucideIcon-DyfPgvOr.js";import{D as j}from"./download-CPVpN1lM.js";/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v=l("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f=l("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p=l("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),S=()=>{const r=N(),{result:t,resetTest:x,isTestCompleted:c}=b();if(u.useEffect(()=>{(!c||!t)&&r("/")},[c,t,r]),!t)return null;const a=Math.round(t.totalScore/t.maxScore*100),o=s=>s>=80?"text-green-600":s>=60?"text-yellow-600":s>=40?"text-orange-600":"text-red-600",m=s=>s>=80?"Ausgezeichnet":s>=60?"Gut":s>=40?"Ausreichend":"Verbesserungsbedarf",h=async()=>{if(navigator.share&&t.shareableCardUrl)try{await navigator.share({title:"ERKENNEN. STOPPEN. Testergebnisse",text:`Ich habe ${a}% im ERKENNEN. STOPPEN. Test erreicht!`,url:window.location.href})}catch(s){console.log("Error sharing:",s),d()}else d()},d=()=>{const s=`Ich habe ${a}% im ERKENNEN. STOPPEN. Test erreicht! Mach ihn selbst: ${window.location.origin}`;navigator.clipboard.writeText(s)},g=()=>{x(),r("/test")};return e.jsxs(e.Fragment,{children:[e.jsxs(y,{children:[e.jsx("title",{children:"Deine Ergebnisse - ERKENNEN. STOPPEN."}),e.jsx("meta",{name:"description",content:`Test mit ${a}% abgeschlossen. ${t.feedback}`}),e.jsx("meta",{property:"og:title",content:`Ich habe ${a}% im ERKENNEN. STOPPEN. Test erreicht.`}),e.jsx("meta",{property:"og:description",content:"Teste dein Wissen zur Prävention von sexualisierter Gewalt im Sport."}),t.shareableCardUrl&&e.jsx("meta",{property:"og:image",content:t.shareableCardUrl})]}),e.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs(i.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 mb-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs(i.div,{initial:{scale:0},animate:{scale:1},transition:{duration:.6,delay:.2},className:"mb-6",children:[e.jsxs("div",{className:`text-6xl font-bold ${o(a)} mb-2`,children:[a,"%"]}),e.jsx("div",{className:`text-xl font-semibold ${o(a)}`,children:m(a)})]}),e.jsx("h1",{className:"text-3xl font-bold text-navy mb-4",children:"Test abgeschlossen!"}),e.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:t.feedback})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:[e.jsxs("div",{className:"text-center p-6 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-orange mb-2",children:t.spotScore}),e.jsx("div",{className:"text-sm text-gray-600 font-medium",children:"ERKENNEN Punktzahl"}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Warnsignale erkennen"})]}),e.jsxs("div",{className:"text-center p-6 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-navy mb-2",children:t.endScore}),e.jsx("div",{className:"text-sm text-gray-600 font-medium",children:"STOPPEN Punktzahl"}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Maßnahmen ergreifen"})]}),e.jsxs("div",{className:"text-center p-6 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"text-2xl font-bold text-gray-700 mb-2",children:[t.totalScore,"/",t.maxScore]}),e.jsx("div",{className:"text-sm text-gray-600 font-medium",children:"Gesamtpunktzahl"}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Gesamtleistung"})]})]}),t.shareableCardUrl&&e.jsxs(i.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"mb-8",children:[e.jsx("h3",{className:"text-lg font-semibold text-navy mb-4 text-center",children:"Teile deine Ergebnisse"}),e.jsx("div",{className:"flex justify-center",children:e.jsx("img",{src:t.shareableCardUrl,alt:"Teilbare Ergebniskarte",className:"max-w-md w-full rounded-lg shadow-md"})})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsxs(n,{onClick:h,variant:"orange",size:"lg",className:"flex items-center",children:[e.jsx(p,{className:"w-5 h-5 mr-2"}),"Ergebnisse teilen"]}),e.jsxs(n,{onClick:g,variant:"outline",size:"lg",className:"flex items-center",children:[e.jsx(f,{className:"w-5 h-5 mr-2"}),"Test wiederholen"]}),e.jsxs(n,{onClick:()=>r("/"),variant:"ghost",size:"lg",className:"flex items-center",children:[e.jsx(v,{className:"w-5 h-5 mr-2"}),"Zur Startseite"]})]})]}),e.jsxs(i.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.3},className:"bg-white rounded-2xl shadow-lg p-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-navy mb-6 text-center",children:"Weitere Informationen"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"p-6 border-2 border-orange/20 rounded-lg hover:border-orange/40 transition-colors",children:[e.jsx("h3",{className:"text-lg font-semibold text-navy mb-3",children:"Ressourcen herunterladen"}),e.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Hol dir umfassende Anleitungen und Materialien für deine Sportorganisation."}),e.jsxs(n,{variant:"outline",size:"sm",className:"w-full",children:[e.jsx(j,{className:"w-4 h-4 mr-2"}),"Download Kit"]})]}),e.jsxs("div",{className:"p-6 border-2 border-navy/20 rounded-lg hover:border-navy/40 transition-colors",children:[e.jsx("h3",{className:"text-lg font-semibold text-navy mb-3",children:"Mehr erfahren"}),e.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Erfahre mehr über die Geschichte hinter dieser Kampagne und wie du dich beteiligen kannst."}),e.jsx(n,{variant:"outline",size:"sm",className:"w-full",onClick:()=>r("/story"),children:"Projektgeschichte"})]})]})]})]})})})]})};export{S as default};
